<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>íŠ¸ë Œë“œ ì„±í–¥ í…ŒìŠ¤íŠ¸</title>
  <style>
		@keyframes blink {
			0% {opacity: 0.4;}
			50% {opacity: 1;}
			100% {opacity: 0.4;}
		}

    :root{
      --ink:#1f2937;      /* text */
      --muted:#6b7280;    /* sub text */
      --line:#e5e7eb;     /* border */
      --card:#ffffff;     /* surfaces */
      --pink-strong:#fe5d9e; /* pastel pink */
      --yellow:#fff2a3;      /* pastel yellow */
      --accent:var(--pink-strong);
      --accent-2:var(--yellow);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;padding:0;font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans";background:#fff;color:var(--ink)}

    header{display:flex;justify-content:space-between;align-items:center;padding:10px 16px;border-bottom:1px solid var(--line)}
    .logo{display:flex;align-items:center;gap:10px}
    .logo span{font-weight:800;font-size:20px}
    .sub{font-size:14px;color:var(--muted)}

    .wrap{max-width:720px;margin:0 auto;padding-bottom:120px}
    .card{max-width:720px;margin:20px auto;padding:24px;border:1px solid var(--line);border-radius:16px;background:var(--card);box-shadow:0 10px 20px rgba(0,0,0,.05)}
    .step{display:none}
    .step.show{display:block}

    .actions{position:fixed;bottom:0;left:0;right:0;padding:14px 16px;background:rgba(255,255,255,.9);backdrop-filter:blur(4px);border-top:1px solid var(--line)}
    .btnrow{display:flex;justify-content:center;gap:10px;max-width:520px;margin:0 auto}
    .btnrow.big button{flex:1;padding:18px 22px;font-size:18px;border-radius:999px;}
    button{appearance:none;border:none;cursor:pointer;border-radius:14px;padding:14px 18px;font-weight:700;font-size:16px;transition:all .2s ease}
    .primary{background:linear-gradient(180deg,var(--pink-strong),#fe5d9e);color:#fff;box-shadow:0 8px 18px rgba(245,156,192,.35)}
    .primary:hover{box-shadow:0 12px 24px rgba(245,156,192,.45)}
		.ghost{background:transparent;border:1px solid var(--line);color:var(--ink)}
    button:active{transform:translateY(1px)}
    button:disabled{opacity:.5;cursor:not-allowed}
    .hide{display:none !important}
		.startBtn{animation: blink 1s ease-in-out infinite;}

    .progress{height:12px;background:#fff;border:1px solid var(--line);border-radius:999px;overflow:hidden;width:140px}
    .bar{height:100%;width:0%;background:linear-gradient(90deg,var(--pink-strong),var(--yellow))}

    .q-title{font-size:18px;font-weight:700;margin-bottom:20px;text-align:center;letter-spacing:.02em}
    .scale{display:flex;flex-direction:column;gap:10px;margin-top:16px}
    .likert{display:flex;justify-content:space-between;gap:clamp(6px,3vw,16px)}
    .likert .item{position:relative;display:grid;place-items:center}
    .likert input{position:absolute;opacity:0;width:0;height:0}
    .dot{width:clamp(44px,12vw,64px);height:clamp(44px,12vw,64px);border-radius:50%;background:#fff;border:3px solid var(--line);transition:all .2s ease}
    .likert input:checked + .dot{border-color:var(--pink-strong);box-shadow:inset 0 0 0 8px rgba(245,156,192,.25)}
    .likert .item:hover .dot{border-color:var(--yellow)}
    .scale .labels{display:flex;justify-content:space-between;color:var(--muted);font-weight:700}

    .result-header{display:flex;align-items:center;gap:10px;flex-wrap:wrap;}
    .tag{font-family:ui-monospace,monospace;padding:2px 6px;border:1px solid var(--line);border-radius:6px;background:#fff}
    .gauges{display:grid;gap:10px;margin-top:6px}
    @media (min-width:640px){ .gauges{grid-template-columns:repeat(3,1fr)} }
    .gauge{padding:12px;border:1px solid var(--line);border-radius:12px}
    .gauge h4{margin:0 0 8px 0;font-size:13px;color:var(--muted)}
    .bar2{height:12px;background:#eef2ff;border-radius:999px;overflow:hidden;border:1px solid var(--line)}
    .fill{height:100%;width:0%}
    .fill.S{background:#fe5d9e} /* pastel pink */
    .fill.V{background:#fde68a} /* pastel yellow */
    .fill.A{background:#c7d2fe} /* soft indigo */

    .section-title{margin:12px 0 6px 0;font-size:16px;font-weight:800}
    .para{line-height:1.7}
    .character{margin-top:10px;padding:10px 12px;border:1px dashed var(--line);border-radius:12px;background:#fafafa;color:#334155}
    .image-slot{margin-top:14px;border:2px dashed var(--line);border-radius:12px;background:#fff;aspect-ratio:1;width:100%;display:grid;place-items:center;color:var(--muted);overflow:hidden}
    .result-img{width:100%;height:100%;object-fit:contain;display:block}
  </style>
</head>
<body>
  <header>
    <div class="logo"><span>TT</span><div><div>íŠ¸ë Œë“œ ì„±í–¥ í…ŒìŠ¤íŠ¸</div><div class="sub">íŒì—… ì•„ë‹ˆê¸´ í•´ Â· ì°¸ì—¬í˜• ì—°ê·¹</div></div></div>
    <div id="progressWrap" class="progress"><div class="bar" id="prog"></div></div>
  </header>

  <div class="wrap">
    <!-- STEP 0: ì†Œê°œ -->
    <section class="card step show" id="step0">
      <h2 style="text-align:center;letter-spacing:.04em">ë‚´ ì·¨í–¥ vs ìœ í–‰, ë‚˜ëŠ” ì–´ë–¤ íƒ€ì…?</h2>
      <p class="sub" style="text-align:center">ì§ˆë¬¸ì— ì°¨ë¡€ëŒ€ë¡œ ë‹µí•˜ê³  ë§ˆì§€ë§‰ì— ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
			<p class="sub" style="text-align:center">ë‚˜ì˜ íƒ€ì…ì„ í™•ì¸í•˜ê³  ì¹œêµ¬ë“¤ê³¼ ê³µìœ í•´ë³´ì„¸ìš”!</p>
    </section>

    <!-- STEP 1~10: ë¬¸í•­ -->
    <section class="card step" id="stepQ"><div id="qCard"></div></section>

    <!-- STEP 11: ê²°ê³¼ -->
    <section class="card step" id="stepR">
      <div class="result-header">
        <div id="badge" class="tag">íƒ€ì…</div>
        <h2 id="typeName" style="margin:0">-</h2>
      </div>
			<br>
			<div id="imageSlot" class="image-slot">ì´ë¯¸ì§€ ìë¦¬</div>
			<br>
			<div id="characterNote" class="character"></div>
			<br>
      <div class="gauges" style="margin-top:6px">
        <div class="gauge"><h4>S íŠ¸ë Œë“œ ë¯¼ê°ë„</h4><div class="bar2"><div class="fill S" id="barS"></div></div></div>
        <div class="gauge"><h4>V íŠ¸ë Œë“œ ì •ì„œ</h4><div class="bar2"><div class="fill V" id="barV"></div></div></div>
        <div class="gauge"><h4>A ë‚´ì  ì¤‘ì‹¬ ì§‘ì¤‘ë ¥</h4><div class="bar2"><div class="fill A" id="barA"></div></div></div>
      </div>
      <div id="resultBody" class="para"></div>
    </section>
  </div>

  <!-- ê³ ì • ë²„íŠ¼ ë°” -->
  <div class="actions">
    <div class="btnrow big" id="btnRow">
      <button class="ghost" id="btnPrev">ì´ì „</button>
      <button class="primary" id="btnNext">ì‹œì‘í•˜ê¸°</button>
    </div>
  </div>

  <script>
    // -------------------------------
    // ë°ì´í„°
    // -------------------------------
    const QUESTIONS = [
      { id:1, text:"ë‚˜ëŠ” ìƒˆë¡œìš´ ìœ í–‰Â·ë°ˆì„ ë‚¨ë“¤ë³´ë‹¤ ë¹¨ë¦¬ ì•Œì•„ì°¨ë¦¬ëŠ” í¸ì´ë‹¤.", key:"S", rev:false },
      { id:2, text:"ìƒˆë¡œ ëœ¨ëŠ” ì¹´í˜Â·ì œí’ˆÂ·ì•±ì€ ì§ì ‘ ì¨ë³´ë©° ê°ì„ ìµíŒë‹¤.", key:"S", rev:false },
      { id:3, text:"ë°”ë¹ ë„ íŠ¸ë Œë“œ ê´€ë ¨ ì†Œì‹ì€ ë†“ì¹˜ê¸° ì‹«ë‹¤.", key:"S", rev:false },
      { id:4, text:"ìš”ì¦˜ â€˜ìœ í–‰ ë”°ë¼ê°€ê¸°â€™ ë¬¸í™”ê°€ í”¼ê³¤í•˜ê²Œ ëŠê»´ì§„ë‹¤.", key:"V", rev:true },
      { id:5, text:"ìœ í–‰ì€ ì¬ë¯¸ìˆê³  ì°½ì˜ì„±ì„ ìê·¹í•œë‹¤ê³  ëŠë‚€ë‹¤.", key:"V", rev:false },
      { id:6, text:"ë‚¨ë“¤ì´ í•œë‹¤ê³  í•´ì„œ ë”°ë¼í•˜ê¸°ë³´ë‹¤ ë‚´ ë°©ì‹ëŒ€ë¡œ í•œë‹¤.", key:"A", rev:false },
      { id:7, text:"ì£¼ë³€ì—ì„œ í™”ì œì—¬ë„ ê´€ì‹¬ ì—†ìœ¼ë©´ ê·¸ëƒ¥ ì§€ë‚˜ì¹œë‹¤.", key:"A", rev:false },
      { id:8, text:"ìœ í–‰ì€ ê¸ˆë°© ì‹ìœ¼ë‹ˆ í° ì˜ë¯¸ê°€ ì—†ë‹¤ê³  ë³¸ë‹¤.", key:"V", rev:true },
      { id:9, text:"í•œ ë²ˆ ê´€ì‹¬ì´ ìƒê¸°ë©´ ê¹Šê²Œ íŒŒê³ ë“¤ì–´ ì²´ë“í•œë‹¤.", key:"S", rev:false },
      { id:10, text:"ìš”ì¦˜ íë¦„ê³¼ ë‚´ ì·¨í–¥ì´ ì¶©ëŒí•˜ë©´ ë‚´ ì·¨í–¥ì„ ìš°ì„ í•œë‹¤.", key:"A", rev:false },
    ];

    const TYPE_TEXT = {
      "íŠ¸ë Œë“œ ì„œí¼": {
        emoji:"ğŸ„â€â™‚ï¸",
				image: "surfer",
        character:"íŠ¸ë Œë“œ ì™•, íŒí€¸",
        description:`ë³€í™”ì˜ ê²°ì„ ëˆ„êµ¬ë³´ë‹¤ ë¹¨ë¦¬ ì½ìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ê²ƒì— ëŒ€í•œ ê°ê°ì´ ë›°ì–´ë‚˜ê³ , ë‚¨ë“¤ë³´ë‹¤ ë¬´ì—‡ì´ë“  ë¨¼ì € ì‚¬ìš©í•´ë³´ë©° ì¬ë¯¸ì™€ ì¸ì‚¬ì´íŠ¸ë¥¼ ì–»ëŠ” í¸ì…ë‹ˆë‹¤. ìœ í–‰ì„ ì¢‡ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ìœ í–‰ ìœ„ì—ì„œ ë…¸ëŠ” ì‚¬ëŒì— ê°€ê¹ìŠµë‹ˆë‹¤. ë‹¤ê°€ì˜¤ëŠ” íŠ¸ë Œë“œë¥¼ ëŠ˜ ì‚´í´ë³´ë‹¤ê°€ ë°”ë¡œ ê·¸ íŒŒë„ ìœ„ì— íƒ‘ìŠ¹í•˜ëŠ” ì„œí¼ì¸ ë‹¹ì‹ ! í•˜ì§€ë§Œ ë•Œë¡œëŠ” ê²€ì€ íŒŒë„ë„ ìˆë‹¤ëŠ” ê²ƒ, ìŠì§€ ë§ˆì„¸ìš”.`,
        strategy:[
          "ë‹¹ì‹ ì˜ ê°•ì ì€ â€˜ë¹ ë¥¸ íë ˆì´ì…˜â€™! ê¸¸ê³  ë³µì¡í•  í•„ìš” ì—†ì–´ìš”. ì§§ì€ ë¦¬ë·° ì½˜í…ì¸ (SNS, ë¸”ë¡œê·¸, ë™ë£Œ ê³µìœ )ë¡œ ìœ í–‰ì„ ì£¼ë„í•´ë³´ì„¸ìš”.",
          "ì§€ë‚˜ì¹˜ê²Œ ì‹ ì„ í•¨ë§Œ ì°¾ë‹¤ ê¸ˆë°© ì§ˆë¦¬ëŠ” íŒ¨í„´ì„ ê²½ê³„í•˜ì„¸ìš”. ê·¸ëŸ¬ë©´ ë‹¹ì‹ ì˜ íŠ¸ë Œë“œ ì„œí•‘, ë” ì˜¤ë˜ ê°ˆ ê±°ì˜ˆìš”.",
          "ì£¼ë³€ì¸ì—ê²Œ â€˜ì–´ë–¤ íë¦„ì´ ì™œ ëœ¨ëŠ”ì§€â€™ ì„¤ëª…í•´ì£¼ì„¸ìš”. ì‚¬ëŒë“¤ì´ ì˜ì¡´í•˜ëŠ” ì¸ì‚¬ì´íŠ¸ ì œê³µìê°€ ë©ë‹ˆë‹¤."
        ]
      },
      "íŠ¸ë Œë“œ ìŠ¤ìœ„ë¨¸": {
        emoji:"ğŸŠ",
				image: "swimmer",
        character:"ì¹´í˜ ì‚¬ì¥",
        description:`ë‹¹ì‹ ì€ ìœ í–‰ì´ ì£¼ëŠ” í™œê¸°ë¥¼ ì¢‹ì•„í•˜ë©°, íë¦„ì„ ì²œì²œíˆ ë”°ë¼ í—¤ì—„ì¹˜ë“¯ í¸ì•ˆí•˜ê²Œ ì¦ê¸°ëŠ” íƒ€ì…ì…ë‹ˆë‹¤. ì§‘ì°©í•˜ê±°ë‚˜ ë’¤ì²˜ì§„ë‹¤ëŠ” ë¶ˆì•ˆ ì—†ì´, í•„ìš”í•œ ë§Œí¼ë§Œ ìì—°ìŠ¤ëŸ½ê²Œ íŠ¸ë Œë“œë¥¼ í¡ìˆ˜í•©ë‹ˆë‹¤. ëŠ˜ ìƒˆë¡œìš´ íë¦„ì„ ì‚´í´ë³´ëŠ” ê²ƒì„ ì¢‹ì•„í•˜ëŠ” ë‹¹ì‹ ì€ íŠ¸ë Œë“œ ì„¸ê³„ì˜ ì¸ì–´ê³µì£¼!`,
        strategy:[
          "ê´€ì‹¬ ë¶„ì•¼ë³„ë¡œ í•µì‹¬ë§Œ ëª¨ìœ¼ëŠ” êµ¬ë… or íŒ”ë¡œìš° ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ë©´ ë‹¤ì–‘í•œ ê´€ì‹¬ì‚¬ì˜ ê´€ë¦¬ê°€ ë” í¸í•´ì§‘ë‹ˆë‹¤.",
          "ë„ˆë¬´ ë§ì€ ì •ë³´ë¥¼ ê±¸ëŸ¬ë‚´ë‹¤ ì¤‘ìš”í•œ ì‹ í˜¸ë¥¼ ë†“ì¹  ìˆ˜ ìˆìœ¼ë‹ˆ ì›” 1íšŒ â€˜ì‹ ê·œ íƒìƒ‰ íƒ€ì„â€™ì„ ê°€ì ¸ë³´ì„¸ìš”.",
          "ë‚´ ì·¨í–¥ê³¼ íŠ¸ë Œë“œê°€ ë§Œë‚˜ëŠ” ì§€ì ì„ ì°¾ìœ¼ë©´ ì·¨ë¯¸Â·ì¼ ëª¨ë‘ í™•ì¥ì„±ì´ ìƒê¹ë‹ˆë‹¤."
        ]
      },
      "íŠ¸ë Œë“œ ëŸ¬ë„ˆ": {
        emoji:"ğŸƒ",
				image: "runner",
        character:"í—ˆëŒ€í‘œ, ì¡°íŒ€ì¥",
        description:`ì •ë³´ íŒŒì•… ì†ë„ê°€ ë¹ ë¥´ê³  ì°¸ì—¬ë„ ë†’ì§€ë§Œ, ë’¤ì²˜ì§€ê¸° ì‹«ì€ ë§ˆìŒì´ ì¡°ê¸ˆ ì‘ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¸ë Œë“œë¥¼ ì˜ ë”°ë¼ê°€ì§€ë§Œ, ì•„ì§ â€˜ë‚´ ë°©ì‹â€™ì´ ì™„ì „íˆ ì¡íˆì§€ ì•Šì•„, ë”°ë¼ê°€ëŠ” ê³¼ì •ì—ì„œ í”¼ë¡œë„ê°€ ìƒê¸¸ ë•Œë„ ìˆìŠµë‹ˆë‹¤. ì§ˆíˆ¬ë¥¼ ë™ë ¥ìœ¼ë¡œ ë” ì„±ì¥í•  ë•Œë„ ìˆì§€ë§Œ, í•„ìš”ì—†ëŠ” ìœ í–‰ì„ ë¬´ì‘ì • ë”°ë¼ ë›°ë‹¤ ë³´ë©´, ëª©ì ì§€ê°€ ì•„ë‹Œ ê³³ì— ë„ì°©í•  ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•˜ì„¸ìš”.`,
        strategy:[
          "â€˜ì™œ ì´ê±¸ ì†Œë¹„í•˜ëŠ”ê°€?â€™ ê°„ë‹¨í•œ í•œ ì¤„ ë©”ëª¨ë¥¼ ë‚¨ê¸°ë©´ ì†Œë¹„ ë°©í–¥ì´ ì •ë¦¬ë©ë‹ˆë‹¤.",
          "íŠ¸ë Œë“œ ì¤‘ì—ì„œë„ â€˜ê°€ì„±ë¹„ ë†’ì€ í•µì‹¬â€™ë§Œ ê³¨ë¼ ì²´í—˜í•˜ëŠ” í•„í„° ì „ëµì´ ë„ì›€ë©ë‹ˆë‹¤. íŠ¸ë Œë“œ ë”°ë¼ê°€ë‹¤ê°€ ë¬´ë¦¬í•˜ì§€ ì•Šê¸°!",
          "í•„ìš” ì´ìƒìœ¼ë¡œ ë¹„êµÂ·ê²€ìƒ‰ì— ì‹œê°„ì„ ì“°ì§€ ì•Šë„ë¡ ì‚¬ìš© ì‹œê°„ì— ìŠ¤ìŠ¤ë¡œ ì œí•œì„ ê±¸ë©´ ì‚¶ì˜ ë§Œì¡±ë„ê°€ ì˜¬ë¼ê°ˆ ê±°ì˜ˆìš”."
        ]
      },
      "íŠ¸ë Œë“œ ì°ë¨¹ëŸ¬": {
        emoji:"ğŸ°",
				image: "picker",
        character:"ë§ˆì¼€íŒ… ì¸í„´",
        description:`ì¼ë‹¨ ìœ í–‰ì€ ì•Œì•„ë‘ì§€ë§Œ, ê¹Šê²Œ ë›°ì–´ë“¤ê¸°ë³´ë‹¨ í•œì…ë§Œ ë§›ë³´ëŠ” ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤. í•„ìš”í•  ë•Œë§Œ ê°€ë³ê²Œ ì†Œë¹„í•˜ë©°, í° ì—ë„ˆì§€ íˆ¬ì… ì—†ì´ë„ íë¦„ì„ íŒŒì•…í•©ë‹ˆë‹¤. ë•Œë¡œëŠ” ë‚´ ì„¸ìƒ ì†ì—, ë•Œë¡œëŠ” íŠ¸ë Œë“œì˜ ë¬¼ê²° ì†ì—! ì·¨í–¥ì´ ì¢…ì¢… ë°”ë€Œì§€ë§Œ, ë‚¨ë“¤ì—ê²Œ í° ì‹ ê²½ì„ ì“°ì§€ ì•Šì•„ ë³´í†µ ì¦ê±°ìš´ í¸ì¸ ë‹¹ì‹ ì€ íŠ¸ë Œë“œ ì°ë¨¹ëŸ¬!`,
        strategy:[
          "â€˜ê°€ì„±ë¹„ ë†’ì€ ì²´í—˜â€™ì„ ë¯¸ë¦¬ ë¦¬ìŠ¤íŠ¸ì—…(ì¹´í˜, ì „ì‹œ, ì•± ë“±)í•´ë‘ë©´ í•„ìš”í•  ë•Œ ë¹ ë¥´ê²Œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
          "ì£¼ë³€ì— â€˜íŠ¸ë Œë“œ ì˜ ì•„ëŠ” ì¹œêµ¬â€™ë¥¼ ë‘ê±°ë‚˜ ê´€ì‹¬ ë¶„ì•¼ì˜ â€˜ì›”ê°„ ë§¤ê±°ì§„â€™ì„ êµ¬ë…í•œë‹¤ë©´ ì •ë³´ ìˆ˜ì§‘ ë¹„ìš©ì´ ë” ì¤„ì–´ë“­ë‹ˆë‹¤. íŠ¸ë Œë“œ íƒìƒ‰ì˜ ê³¼ì •ì„ ì¤„ì—¬, ì›í•  ë•Œ ë°”ë¡œ ê¶ê¸ˆí•œ ê²ƒì— ë„ì „í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.",
          "ê´€ì‹¬ì´ ìƒê¸´ ë¶„ì•¼ í•˜ë‚˜ ì •ë„ëŠ” â€˜ì¥ê¸° ì·¨í–¥â€™ìœ¼ë¡œ í‚¤ìš°ê¸° ì‹œë„í•´ë³´ì„¸ìš”. ì˜ì™¸ë¡œ ë§Œì¡±ê°ì´ í¬ë‹µë‹ˆë‹¤."
        ]
      },
      "íŠ¸ë Œë“œ ë¶ˆí¸ëŸ¬": {
        emoji:"ğŸ˜®â€ğŸ’¨",
				image: "disappointed",
        character:"í˜„ë³´ì€",
        description:`ë‹¹ì‹ ì€ ë³´í†µ, ìœ í–‰ì´ ë„ˆë¬´ ë¹ ë¥´ê³  ì‹œë„ëŸ½ë‹¤ê³  ëŠë¼ëŠ” í¸ì…ë‹ˆë‹¤. ì´ìƒí•˜ê²Œë„ ì •ë³´ëŠ” ë§ì´ ì•Œê³  ìˆì§€ë§Œ, íŠ¸ë Œë“œ ë§ì¶”ê¸°ê°€ í”¼ê³¤í•˜ê±°ë‚˜ ì–µì§€ìŠ¤ëŸ½ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. â€˜ë‚´ ì‚¶ì˜ ë¦¬ë“¬ì´ ë” ì¤‘ìš”í•˜ë‹¤â€™ëŠ” ê°ê°ì´ ëšœë ·í•©ë‹ˆë‹¤. íŠ¸ë Œë“œê°€ ë°”ë€ŒëŠ” ì†ë„ë³´ë‹¤ëŠ” ì¡°ê¸ˆ ëŠë¦¬ê²Œ ì‚´ê³  ì‹¶ì€ ë‹¹ì‹ , íŠ¸ë Œë“œ ë¶ˆí¸ëŸ¬ì¸ ê²ƒ ê°™êµ°ìš”. í•˜ì§€ë§Œ ë¶ˆí¸í•¨ì´ í‹€ë¦° ê²ƒì€ ì•„ë‹ˆì£ . ì˜¤íˆë ¤ ì„±ì¥ì˜ ì›ë™ë ¥ì´ ë˜ê¸°ë„ í•©ë‹ˆë‹¤.`,
        strategy:[
          "íŠ¸ë Œë“œ ì¤‘ì—ì„œë„ ì¼ìƒ íš¨ìœ¨ì„ ë†’ì´ëŠ” ì‹¤ìš©í˜•ë§Œ ê°€ë³ê²Œ ì·¨ì‚¬ ì„ íƒí•´ë³´ì„¸ìš”. (ìƒì‚°ì„± ì•±, ìƒí™œìš©í’ˆ ë“±)",
          "â€˜ë‚¨ë“¤ì²˜ëŸ¼ í•´ì•¼ í•œë‹¤â€™ëŠ” ì••ë°•ì€ ì ì‹œ ë‚´ë ¤ë‘ê¸°. í•„ìš”í•œ ìˆœê°„ì—ë§Œ ì„ íƒì  ì†Œë¹„ë¥¼ í•˜ë©´ ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ì¤„ì–´ë“­ë‹ˆë‹¤.",
          "ë¬´ì–¸ê°€ë¥¼ ì¢‡ë‹¤ê°€ ì–´ë ¤ì›€ì´ë‚˜ ë¶ˆí¸í•¨ì´ ì°¾ì•„ì˜¤ë©´, ë•Œë•Œë¡œ â€˜ë‚´ê°€ ì™œ ë¶ˆí¸í–ˆëŠ”ì§€â€™ ì ì–´ë³´ì„¸ìš”. ì·¨í–¥Â·ê°€ì¹˜ê´€ì´ ì˜¤íˆë ¤ ë˜ë ·í•´ì§ˆ ê±°ì˜ˆìš”."
        ]
      },
      "íŠ¸ë Œë“œ ë°¸ëŸ°ì„œ": {
        emoji:"âš–ï¸",
				image: "balancer",
        character:"í˜„ë³´ì€ì´ ë˜ê³  ì‹¶ì€ ëª¨ìŠµ",
        description:`ìœ í–‰ê³¼ ì·¨í–¥ì„ ë˜‘ê°™ì´ ì¤‘ìš”í•œ ê¸°ì¤€ìœ¼ë¡œ ë‘ëŠ” ê· í˜•í˜• ì¸ê°„. ë‚¨ë“¤ì´ í•œë‹¤ê³  ë”°ë¼ê°€ì§€ ì•Šì§€ë§Œ, í•„ìš”í•˜ë‹¤ë©´ ìœ ì—°í•˜ê²Œ ë°›ì•„ë“¤ì¼ ì¤„ë„ ì•„ëŠ” ë‹¹ì‹ ì€ íŠ¸ë Œë“œ-ë¼ì´í”„-ë°¸ëŸ°ìŠ¤ê°€ í›Œë¥­í•œ ë°¸ëŸ°ì„œì…ë‹ˆë‹¤. íƒ€ê³ ë‚œ ì·¨í–¥ê³¼ ì„¼ìŠ¤ë„ ì€ì€íˆ ìˆëŠ” ë™ì‹œì— í˜„ì‹¤ê°ê°ë„ í™•ì‹¤í•œ í¸. ë˜í•œ ìê¸° ì·¨í–¥ì˜ ë¿Œë¦¬ê°€ í•¨ê»˜ ì¡´ì¬í•©ë‹ˆë‹¤.`,
        strategy:[
          "ì·¨í–¥ ë¦¬ìŠ¤íŠ¸(ì¢‹ì•„í•˜ëŠ” ë¸Œëœë“œ, ì½˜í…ì¸ , ìŠ¤íƒ€ì¼)ë¥¼ ì •ë¦¬í•´ë‘ë©´ íƒ€í˜‘í•  ë•Œ ê¸°ì¤€ì´ ëª…í™•í•´ì§‘ë‹ˆë‹¤.",
          "ê°€ë”ì€ ë‚´ ì·¨í–¥ì„ í˜¼ìë§Œ ì¦ê¸°ì§€ ë§ê³  ë‚¨ì—ê²Œ ì†Œê°œí•˜ê±°ë‚˜ ì¶”ì²œí•´ë³´ì„¸ìš”. ê´€ê³„ ì†ì—ì„œ ë§¤ë ¥ë„ UP!",
          "íŠ¸ë Œë””í•¨ì´ í•„ìš”í•  ë• â€˜ë¯¸ë‹ˆë©€ ì ìš©â€™(í•œë‘ ìš”ì†Œë§Œ ë°˜ì˜)ì„ í•´ë³´ì„¸ìš”. ë¶€ë‹´ ì—†ì´ í™œìš©í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”. ì–´ì©Œë©´ ìƒˆë¡œìš´ ê²ƒì´ íƒ„ìƒí• ì§€ë„?"
        ]
      },
      "íŠ¸ë Œë“œ ì±Œë¦°ì €": {
        emoji:"ğŸ§—",
				image: "challenger",
        character:"í˜„ì¡°ì€",
        description:`íŠ¸ë Œë“œë³´ë‹¤ëŠ” ìê¸° ê¸°ì¤€, ìê¸° ê°ê°ì´ í™•ê³ í•œ ë‹¹ì‹ ì€, íŠ¸ë Œë“œì— ë„ì „í•˜ëŠ” ì±Œë¦°ì €ì…ë‹ˆë‹¤. â€˜ì–¸ì  ê°€ ì‚¬ëŒë“¤ì´ ì´ê±¸ ì•Œì•„ë³¼ ê±°ì•¼â€™ë¼ëŠ” ë¯¸ë˜ ì§€í–¥ì  ìê¸° í™•ì‹ ì´ ìˆìŠµë‹ˆë‹¤. ëŒ€ì„¸ì™€ ë‹¬ë¼ë„ í”ë“¤ë¦¬ì§€ ì•ŠëŠ” ë…ë¦½ì ì¸ ì·¨í–¥ì„ ê°–ê³ , ê²Œë‹¤ê°€ â€˜ã…‡ã…‡ë¶ì€ ì˜¨ë‹¤!â€™ë©° ë‚´ ì·¨í–¥ì„ ì•„ê»´ì£¼ê³  ìˆêµ°ìš”. ê³¼ì—°, ë‚´ ì·¨í–¥ì˜ ë¶ì€ ì˜¬ê¹Œìš”? ì‚¬ì‹¤ ì•ˆ ì™€ë„ ë‹¹ì‹ ì€ ë”±íˆ ë¬¸ì œì—†ì„ ì§€ë„?`,
        strategy:[
          "ê´€ì‹¬ ë¶„ì•¼ í•˜ë‚˜ëŠ” ì‹¤ì œ ê²°ê³¼ë¬¼ë¡œ ë‚¨ê²¨ë³´ì„¸ìš”(ì»¬ë ‰ì…˜, ë¸Œëœë”© ê¸°ë¡, ì‘ì€ í”„ë¡œì íŠ¸). ë¶ì„ ì¼ìœ¼í‚¤ëŠ” ì‘ì€ ë¶ˆì”¨ê°€ ë  ìˆ˜ë„ ìˆì–´ìš”.",
          "ì·¨í–¥ì˜ ê·¼ê±°(ì™œ ì¢‹ì•„í•˜ëŠ”ì§€)ë¥¼ ê¸€ì´ë‚˜ ì‚¬ì§„ìœ¼ë¡œ ì •ë¦¬í•˜ë©´ ì„¤ë“ë ¥ê³¼ ìì¡´ê°ì´ í•¨ê»˜ ì˜¬ë¼ê°‘ë‹ˆë‹¤. ë‚´ê°€ ì¢‹ì•„í•˜ëŠ” ê²ƒì— ì‚¬ëŒë“¤ì´ ê´€ì‹¬ì´ ì—†ë‹¤ê³  ìŠ¬í¼í•  í•„ìš” ì—†ìœ¼ë‹ˆê¹ìš”.",
          "íŠ¸ë Œë“œì™€ì˜ ì¶©ëŒì´ ê³„ì† ë¶ˆí¸í•˜ë‹¤ë©´, â€˜ì–•ì€ ì—°ê²°â€™ ì „ëµ(í•œë‘ ê°œë§Œ ì²´í—˜)ìœ¼ë¡œ ì‚¬íšŒì  ë§¥ë½ë§Œ í™•ë³´í•˜ì„¸ìš”. ëŒ€ì¶© ì´ì•¼ê¸°ì— ê³µê°ë§Œ í•˜ëŠ”, ë”± ê·¸ ì •ë„ë©´ ì¶©ë¶„!"
        ]
      },
      "íŠ¸ë Œë“œë¥¼ ë¬´ì‹œí•˜ëŠ” ì†Œë‚˜ë¬´": {
        emoji:"ğŸŒ²",
				image: "sonamu",
        character:"êµ¬ìí›ˆ ì•„ì €ì”¨",
        description:`ëŠì„ì—†ì´ ë°”ë€ŒëŠ” íë¦„ì´ ì˜ë¯¸ ì—†ê±°ë‚˜ ë¶€ë‹´ìŠ¤ëŸ½ê²Œ ëŠê»´ì§€ê³ , ì¼ê´€ì„±ê³¼ ì•ˆì •ì„ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ì—¬ê¹ë‹ˆë‹¤. ë°”ë€ŒëŠ” ì†ì—ì„œë„ ë³€í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ë°˜ë“œì‹œ ìˆì–´ì•¼ í•œë‹¤ê³  ë¯¿ëŠ” í¸ì´ì£ . ì–´ë–¤ ë¶„ì•¼ë“  ì˜¤ë˜, ì²œì²œíˆ, ê¹Šê²Œ íŒŒëŠ” ìŠ¤íƒ€ì¼ë¡œ, ì·¨í–¥ì˜ ë¿Œë¦¬ê°€ ë‹¨ë‹¨í•©ë‹ˆë‹¤. ì†Œë‚˜ë¬´ ê·¸ ì¡ì±„ë„ê¹Œ..?`,
        strategy:[
          "íŠ¸ë Œë“œë¥¼ ê±°ë¶€í•œë‹¤ê³  í•´ì„œ ë‹¨ì ˆí•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤. ë•Œë¡œëŠ” íŠ¸ë Œë“œì—ì„œ ì‹¤ìš©ì ì¸ ë¶€ë¶„ë§Œ ìµœì†Œë¡œ í¡ìˆ˜í•´ë³´ì„¸ìš”!",
          "ë³€í™”ê°€ í”¼ê³¤í•˜ë‹¤ë©´, â€˜ë‚´ê°€ ê³„ì† ìœ ì§€í•  ê²ƒâ€™ê³¼ â€˜ë²„ë ¤ë„ ë˜ëŠ” ê²ƒâ€™ì„ êµ¬ë¶„í•´ ì¼ìƒ í”¼ë¡œë„ë¥¼ ì¤„ì—¬ë³´ì„¸ìš”.",
          "ì·¨í–¥ì˜ ê¹Šì´ë¥¼ ì½˜í…ì¸ (í›„ê¸°, ë¦¬ë·°, ê¸°ë¡)ë¡œ ë‚¨ê¸°ë©´ ì˜¤íˆë ¤ ë¦¬ë”ì‹­ê³¼ ì˜í–¥ë ¥ì´ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³€ì¹˜ì•ŠëŠ” ì†Œë‚˜ë¬´ë„ ë§¤ë ¥ì ì´ë‹ˆê¹ìš”."
        ]
      }
    };

    const PROTOTYPES = [
      { name:"íŠ¸ë Œë“œ ì„œí¼", coords:[90,90,70] },
      { name:"íŠ¸ë Œë“œ ìŠ¤ìœ„ë¨¸", coords:[70,65,60] },
      { name:"íŠ¸ë Œë“œ ëŸ¬ë„ˆ", coords:[80,70,40] },
      { name:"íŠ¸ë Œë“œ ì°ë¨¹ëŸ¬", coords:[40,60,60] },
      { name:"íŠ¸ë Œë“œ ë¶ˆí¸ëŸ¬", coords:[60,35,40] },
      { name:"íŠ¸ë Œë“œ ë°¸ëŸ°ì„œ", coords:[60,50,75] },
      { name:"íŠ¸ë Œë“œ ì±Œë¦°ì €", coords:[45,35,75] },
      { name:"íŠ¸ë Œë“œë¥¼ ë¬´ì‹œí•˜ëŠ” ì†Œë‚˜ë¬´", coords:[30,30,70] },
    ];

    // -------------------------------
    // ìƒíƒœ/ìœ í‹¸/ì±„ì 
    // -------------------------------
    const TOTAL = 10;           // ë¬¸í•­ ìˆ˜
    let step = 0;               // 0:ì†Œê°œ, 1..10:ë¬¸í•­, 11:ê²°ê³¼
    const answers = Array(TOTAL).fill(null);

    const $prog = document.getElementById('prog');
    const $progressWrap = document.getElementById('progressWrap');
    const $step0 = document.getElementById('step0');
    const $stepQ = document.getElementById('stepQ');
    const $stepR = document.getElementById('stepR');
    const $qCard = document.getElementById('qCard');
    const $btnPrev = document.getElementById('btnPrev');
    const $btnNext = document.getElementById('btnNext');
    const $btnRow = document.getElementById('btnRow');

    const rev = (x) => 6 - x;
    const mean = (arr) => arr.reduce((a,b)=>a+b,0)/arr.length;
    const to100 = (avg) => ((avg-1)/4)*100;

    function calcScores(){
      const [q1,q2,q3,q4,q5,q6,q7,q8,q9,q10] = answers.map(Number);
      const S = to100(mean([q1,q2,q3,q9]));
      const V = to100(mean([rev(q4), q5, rev(q8)]));
      const A = to100(mean([q6,q7,q10]));
      return {S,V,A};
    }

    function pickType(S,V,A){
      let type=null;
      if(S>=80 && V>=75 && A>=60){ type = "íŠ¸ë Œë“œ ì„œí¼" }
      else if(S>=70 && V>=60 && A<60){ type = "íŠ¸ë Œë“œ ëŸ¬ë„ˆ" }
      else if((S>=60 && V>=50 && V<75) || (S>=50 && S<70 && V>=60)){ type = "íŠ¸ë Œë“œ ìŠ¤ìœ„ë¨¸" }
      else if(S<50 && V>=55){ type = "íŠ¸ë Œë“œ ì°ë¨¹ëŸ¬" }
      else if(S>=50 && S<70 && V>=48 && V<=58 && A>=65){ type = "íŠ¸ë Œë“œ ë°¸ëŸ°ì„œ" }
      else if(V<45 && S>=45 && A<65){ type = "íŠ¸ë Œë“œ ë¶ˆí¸ëŸ¬" }
      else if(V<45 && A>=65 && S<60){ type = "íŠ¸ë Œë“œ ì±Œë¦°ì €" }
      else if(V<35 && S<40){ type = "íŠ¸ë Œë“œë¥¼ ë¬´ì‹œí•˜ëŠ” ì†Œë‚˜ë¬´" }

      if(type) return type;
      const dists = PROTOTYPES.map(p=>({ name:p.name, d:Math.hypot(S-p.coords[0], V-p.coords[1], A-p.coords[2]) }))
                              .sort((a,b)=>a.d-b.d);
      return dists[0].name;
    }

    // -------------------------------
    // ë Œë”ë§
    // -------------------------------
    function setProgress(){
      const pct = Math.min(100, Math.max(0, step/11*100));
      $prog.style.width = pct + '%';
    }

    function show(stepIdx){
      step = stepIdx; setProgress();
      [$step0,$stepQ,$stepR].forEach(el=>el.classList.remove('show'));
      if(step===0){
        $step0.classList.add('show');
        // ì²« í™”ë©´: ì´ì „ ë²„íŠ¼ ìˆ¨ê¸°ê³  ì‹œì‘í•˜ê¸°ë§Œ ë…¸ì¶œ
        $btnPrev.classList.add('hide');
        $btnPrev.disabled = true;
        $btnNext.textContent = 'ì‹œì‘í•˜ê¸°';
				$btnNext.disabled = false;
				$btnNext.classList.add('startBtn');
        $progressWrap.classList.remove('hide');
      } else if(step>=1 && step<=10){
        renderQuestion(step);
        $stepQ.classList.add('show');
        $btnPrev.disabled = false; $btnPrev.classList.remove('hide');
        $btnNext.textContent = (step===10? 'ê²°ê³¼ ë³´ê¸°' : 'ë‹¤ìŒ');
        $btnNext.disabled = (answers[step-1]==null);
				$btnNext.classList.remove('startBtn');
        $progressWrap.classList.remove('hide');
      } else {
        renderResult();
        $stepR.classList.add('show');
        // ê²°ê³¼: ì´ì „ ë²„íŠ¼/í”„ë¡œê·¸ë ˆìŠ¤ ìˆ¨ê¹€, ë‹¤ì‹œ ì‹œì‘ë§Œ ë…¸ì¶œ
        $btnPrev.classList.add('hide');
        $btnNext.textContent = 'ë‹¤ì‹œ ì‹œì‘';
        $progressWrap.classList.add('hide');
      }
    }

    function renderQuestion(n){
      const q = QUESTIONS[n-1];
      const current = answers[n-1];
      const values = [1,2,3,4,5];
      const leftLabel = 'ê·¸ë ‡ì§€ ì•Šë‹¤';
      const rightLabel = 'ê·¸ë ‡ë‹¤';

      $qCard.innerHTML = `
        <div class="sub" style="text-align:center;margin-bottom:8px">ë¬¸í•­ ${n} / ${TOTAL}</div>
        <div class="q-title">${q.text}</div>
        <div class="scale" role="radiogroup" aria-label="ë¬¸í•­ ${n}">
          <div class="likert">
            ${values.map(v=>`
              <label class="item" title="${v}">
                <input type="radio" name="q${n}" value="${v}" ${current===v? 'checked':''}>
                <span class="dot" aria-hidden="true"></span>
                <span class="sr-only">${v}</span>
              </label>
            `).join('')}
          </div>
          <div class="labels"><span>${leftLabel}</span><span>${rightLabel}</span></div>
        </div>
      `;
      $qCard.querySelectorAll('input[type=radio]').forEach(input=>{
        input.addEventListener('change', (e)=>{
          answers[n-1] = Number(e.target.value);
          localStorage.setItem('trendtest_v1', JSON.stringify(answers));
          $btnNext.disabled = false;
        });
      });
    }

    function renderResult(){
      const {S,V,A} = calcScores();
      const type = pickType(S,V,A);
      const $typeName = document.getElementById('typeName');
      const $badge = document.getElementById('badge');
      const $barS = document.getElementById('barS');
      const $barV = document.getElementById('barV');
      const $barA = document.getElementById('barA');
      const $body = document.getElementById('resultBody');
      const $char = document.getElementById('characterNote');
			const $imageSlot = document.getElementById('imageSlot');

      const txt = TYPE_TEXT[type] || {emoji:'âœ¨', body:'', character:''};
      $typeName.textContent = type;
      $badge.textContent = txt.emoji + ' ' + type;
      $barS.style.width = S+'%';
      $barV.style.width = V+'%';
      $barA.style.width = A+'%';

      $body.innerHTML = `
        <h4 class="section-title">í•´ì„</h4>
        <p class="para">${txt.description}</p>
        <h4 class="section-title">ì „ëµ</h4>
        <ul class="para" style="margin:0; padding-left:18px">${(txt.strategy||[]).map(li=>`<li>${li}</li>`).join('')}</ul>
      `;
      $char.innerHTML = `ê·¹ ì¤‘ ì¸ë¬¼ë¡œëŠ” <strong>${txt.character}</strong>ì„(ë¥¼) ë‹®ì•˜êµ°ìš”!`;
			$imageSlot.innerHTML = `<img src="assets/${txt.image}.png" alt="${type}" class="result-img">`;

      // ê²°ê³¼ í™”ë©´ì—ì„œëŠ” ì„ íƒ ì´ˆê¸°í™” & ì´ì „ ë²„íŠ¼ ë¹„í™œì„± ìœ ì§€
      localStorage.removeItem('trendtest_v1');
      for(let i=0;i<TOTAL;i++) answers[i] = null;
    }

    // -------------------------------
    // ë‚´ë¹„ê²Œì´ì…˜
    // -------------------------------
    $btnPrev.addEventListener('click', ()=>{ if(step>0) show(step-1); });
    $btnNext.addEventListener('click', ()=>{
      if(step===0){ show(1); return; }
      if(step>=1 && step<10){ show(step+1); return; }
      if(step===10){
        if(answers.some(v=>v==null)){ alert('ëª¨ë“  ë¬¸í•­ì— ì‘ë‹µí•´ì£¼ì„¸ìš”.'); return; }
        show(11); return;
      }
      if(step===11){ show(0); }
    });

    // -------------------------------
    // ì…€í”„ í…ŒìŠ¤íŠ¸ (#test ë¶™ì—¬ì„œ í™•ì¸)
    // -------------------------------
    function selfTest(){
      const demoSets = [
        { name:'ì„œí¼ ê¸°ëŒ€', a:[5,5,5,1,5,4,3,1,5,4] },
        { name:'ìŠ¤ìœ„ë¨¸ ê¸°ëŒ€', a:[4,4,3,2,4,3,3,3,4,3] },
        { name:'ì†Œë‚˜ë¬´ ê¸°ëŒ€', a:[1,2,2,5,1,5,5,5,2,5] },
        { name:'ëŸ¬ë„ˆ ê¸°ëŒ€', a:[5,4,4,2,4,2,2,3,4,2] },
        { name:'ë°¸ëŸ°ì„œ ê¸°ëŒ€', a:[4,3,3,3,3,4,4,3,3,5] },
        { name:'ë¶ˆí¸ëŸ¬ ê¸°ëŒ€', a:[3,3,3,5,2,2,2,4,3,2] },
      ];
      demoSets.forEach(set=>{
        for(let i=0;i<TOTAL;i++) answers[i]=set.a[i];
        const s = calcScores();
        const t = pickType(s.S,s.V,s.A);
        console.log(`[í…ŒìŠ¤íŠ¸] ${set.name}:`, s, t);
      });
      for(let i=0;i<TOTAL;i++) answers[i]=null;
    }
    if(location.hash==='#test'){ selfTest(); }

    // ì´ˆê¸° ë Œë”
    show(0);
  </script>
</body>
</html>
